# Secrets Template
# Copy this file to {env}_secrets.yaml (e.g., dev_secrets.yaml) and fill in values
# DO NOT commit environment-specific secrets files to version control
#
# Usage:
#   cp template.secrets.yaml dev_secrets.yaml
#   # Edit dev_secrets.yaml with your actual values
#
# To push these secrets to GitHub environment secrets (for deploy/run-evals workflows):
#   ./scripts/setup/setup_github.sh   (deploys secrets by default; use --skip-secrets to skip)

# Database credentials (used locally and can be synced to GitHub as MASTER_DB_*)
database:
  master_username: postgres
  master_password: "<your-secure-password>"

# API Keys (if needed by your application)
api_keys:
  openai_api_key: "<your-openai-key>"
  anthropic_api_key: "<your-anthropic-key>"

# GitHub configuration (for OIDC setup)
github:
  org: "<your-github-org>"
  repo: "<your-github-repo>"

# -----------------------------------------------------------------------------
# GitHub environment secrets (deploy.yml, run-evals.yml)
# Sync to GitHub with: ./scripts/setup/setup_github.sh
# See docs/github_environment_secrets.md for names and when each is required.
# -----------------------------------------------------------------------------
github_environment_secrets:
  # Required for deploy workflow (OIDC)
  AWS_DEPLOYER_ROLE_ARN: "<arn:aws:iam::ACCOUNT:role/your-deployer-role>"
  # Optional for prod-on-main promotion flow: ARN of the staging deployer role.
  # Set this on the prod environment so the prod workflow can assume staging for reads.
  STAGING_DEPLOYER_ROLE_ARN: "<arn:aws:iam::STAGING_ACCOUNT:role/your-staging-deployer-role>"
  # Optional; defaults to us-east-1 in workflow
  AWS_REGION: "us-east-1"
  # Required when deploying Lambda (skip_lambda is false)
  S3_APP_CONFIG_URI: "<s3://chat-template-<env>-s3-bucket/config/app_config.yaml>"
  # Optional: path to env config in repo (e.g. config/dev/app_config.yaml)
  LOCAL_APP_CONFIG_PATH: ""
  # DB (optional; can also come from database.* above)
  MASTER_DB_USERNAME: "postgres"
  MASTER_DB_PASSWORD: "<your-secure-password>"
  # When skip_network is true and skip_db is false
  # VPC_ID: "<vpc-...>"
  # SUBNET_IDS: "<subnet-1,subnet-2>"
  # When skip_network is true and deploying Lambda
  # SECURITY_GROUP_IDS: "<sg-...>"

# For staging only: used by run-evals workflow
# AWS_EVALS_ROLE_ARN: "<arn:aws:iam::ACCOUNT:role/your-evals-role>"

# -----------------------------------------------------------------------------
# Config secrets (for hydrate_configs.sh - injects into infra/infra.yaml and config/<env>/app_config.yaml)
# Sync to GitHub with: ./scripts/setup/setup_github.sh
# Duplicate project-level values in each env file.
# -----------------------------------------------------------------------------
config_secrets:
  # Project-level (duplicated in each env file)
  MANAGEMENT_ACCOUNT_ID: "<your-management-account-id>"
  BUDGET_EMAIL: "<your-budget-alert-email>"
  REPO: "<your-github-org/your-repo>"
  # Environment-specific
  ACCOUNT_ID: "<your-aws-account-id>"
  EMAIL: "<your-env-email>"
  DEPLOYER_ROLE_ARN: "<arn:aws:iam::ACCOUNT:role/your-deployer-role>"
  VPC_ID: "<vpc-...>"
  SUBNET_IDS: "<subnet-1,subnet-2,...>"
  KNOWLEDGE_BASE_ID: "<your-kb-id>"
  DB_CLUSTER_ARN: "<arn:aws:rds:region:account:cluster:name>"
  DB_CREDENTIALS_SECRET_ARN: "<arn:aws:secretsmanager:region:account:secret:name>"

# Add other sensitive values as needed below
# custom:
#   my_secret: "<your-secret-value>"
